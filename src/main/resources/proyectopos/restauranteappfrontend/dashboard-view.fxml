<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/20.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="proyectopos.restauranteappfrontend.controllers.DashboardController"
            prefHeight="700.0" prefWidth="1200.0"
            style="-fx-background-color: #f8f9fa;">

    <top>
        <VBox style="-fx-background-color: #e9ecef; -fx-padding: 10;">
            <Label text="PANEL PRINCIPAL DEL POS" textFill="#343a40">
                <font><Font name="System Bold" size="24.0" /></font>
            </Label>
            <Label fx:id="infoLabel" text="Bienvenido" styleClass="lbl-info"/>
        </VBox>
    </top>

    <left>
        <VBox spacing="10" style="-fx-padding: 10;" prefWidth="350">
            <Label text="Mesas:">
                <font><Font name="System Bold" size="14.0" /></font>
            </Label>
            <ScrollPane fitToWidth="true" VBox.vgrow="SOMETIMES" prefHeight="200">
                <content>
                    <TilePane fx:id="mesasContainer" hgap="10" vgap="10">
                        <padding><Insets bottom="10.0" left="10.0" right="10.0" top="10.0" /></padding>
                        <Label text="Cargando mesas..." />
                    </TilePane>
                </content>
            </ScrollPane>

            <Separator/>

            <Label text="Categorías:">
                <font><Font name="System Bold" size="14.0" /></font>
            </Label>
            <ListView fx:id="categoriasListView" VBox.vgrow="ALWAYS">
                <placeholder><Label text="Cargando categorías..."/></placeholder>
            </ListView>
        </VBox>
    </left>

    <center>
        <BorderPane>
            <center>
                <VBox spacing="10" style="-fx-padding: 10;">
                    <Label text="Productos:"> <font><Font name="System Bold" size="14.0" /></font> </Label>
                    <TableView fx:id="productosTableView" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="nombreProductoCol" prefWidth="200.0" text="Nombre" />
                            <TableColumn fx:id="precioProductoCol" prefWidth="100.0" text="Precio" />
                            <TableColumn fx:id="categoriaProductoCol" prefWidth="150.0" text="Categoría" />
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                        <placeholder><Label text="Cargando productos..."/></placeholder>
                    </TableView>

                    <Separator/>

                    <Label text="Pedido Actual:"> <font><Font name="System Bold" size="14.0" /></font> </Label>
                    <TableView fx:id="pedidoActualTableView" VBox.vgrow="SOMETIMES" prefHeight="200">
                        <columns>
                            <TableColumn fx:id="pedidoNombreCol" prefWidth="250.0" text="Producto" />
                            <TableColumn fx:id="pedidoCantidadCol" prefWidth="80.0" text="Cant." />
                            <TableColumn fx:id="pedidoPrecioCol" prefWidth="100.0" text="P. Unit." />
                            <TableColumn fx:id="pedidoSubtotalCol" prefWidth="100.0" text="Subtotal" />
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                        <placeholder><Label text="Seleccione una mesa y añada productos (doble clic)"/></placeholder>
                    </TableView>
                </VBox>
            </center>
            <bottom>
                <HBox alignment="CENTER_RIGHT" spacing="20" style="-fx-padding: 10; -fx-border-color: #dee2e6 transparent transparent transparent; -fx-border-width: 1;">
                    <Label fx:id="totalPedidoLabel" text="Total: S/ 0.00">
                        <font><Font name="System Bold" size="18.0" /></font>
                    </Label>
                    <Button fx:id="crearPedidoButton" text="Crear Pedido" onAction="#handleCrearPedido" styleClass="btn-primary" prefHeight="40"/>
                </HBox>
            </bottom>
        </BorderPane>
    </center>

</BorderPane>